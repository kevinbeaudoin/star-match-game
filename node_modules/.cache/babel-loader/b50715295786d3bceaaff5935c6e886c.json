{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport utils from \"./utils\";\n\nfunction useGameState() {\n  _s();\n\n  const [stars, setStars] = useState(utils.random(1, 9));\n  const [availableNums, setAvailableNums] = useState(utils.range(1, 9));\n  const [candidateNums, setCandidateNums] = useState([]);\n  const [secondsLeft, setSecondsLeft] = useState(10);\n  useEffect(() => {\n    if (secondsLeft > 0 && availableNums.length > 0) {\n      const timerId = setTimeout(() => {\n        setSecondsLeft(secondsLeft - 1);\n      }, 1000);\n      return () => clearTimeout(timerId);\n    }\n  });\n\n  const setGameState = newCandidateNums => {\n    if (utils.sum(newCandidateNums) !== stars) {\n      setCandidateNums(newCandidateNums);\n    } else {\n      const newAvailableNums = availableNums.filter(n => !newCandidateNums.includes(n));\n      setStars(utils.randomSumIn(newAvailableNums, 9));\n      setAvailableNums(newAvailableNums);\n      setCandidateNums([]);\n    }\n  };\n\n  return {\n    stars,\n    availableNums,\n    candidateNums,\n    secondsLeft,\n    setGameState\n  };\n}\n\n_s(useGameState, \"APCwOJSIsZ8fIDJ54QxlUmCrv30=\");\n\nexport default useGameState;","map":{"version":3,"sources":["/Users/kevin.beaudoin/Documents/training/star-match-game/src/logic/useGameState.ts"],"names":["useState","useEffect","utils","useGameState","stars","setStars","random","availableNums","setAvailableNums","range","candidateNums","setCandidateNums","secondsLeft","setSecondsLeft","length","timerId","setTimeout","clearTimeout","setGameState","newCandidateNums","sum","newAvailableNums","filter","n","includes","randomSumIn"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,SAASC,YAAT,GAAwB;AAAA;;AACpB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAACE,KAAK,CAACI,MAAN,CAAa,CAAb,EAAgB,CAAhB,CAAD,CAAlC;AACA,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCR,QAAQ,CAACE,KAAK,CAACO,KAAN,CAAY,CAAZ,EAAe,CAAf,CAAD,CAAlD;AACA,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCX,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACY,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,CAAC,EAAD,CAA9C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIW,WAAW,GAAG,CAAd,IAAmBL,aAAa,CAACO,MAAd,GAAuB,CAA9C,EAAiD;AAC7C,YAAMC,OAAO,GAAGC,UAAU,CAAC,MAAM;AAC7BH,QAAAA,cAAc,CAACD,WAAW,GAAG,CAAf,CAAd;AACH,OAFyB,EAEvB,IAFuB,CAA1B;AAGA,aAAO,MAAMK,YAAY,CAACF,OAAD,CAAzB;AACH;AACJ,GAPQ,CAAT;;AASA,QAAMG,YAAY,GAAIC,gBAAD,IAAgC;AACjD,QAAIjB,KAAK,CAACkB,GAAN,CAAUD,gBAAV,MAAgCf,KAApC,EAA2C;AACvCO,MAAAA,gBAAgB,CAACQ,gBAAD,CAAhB;AACH,KAFD,MAEO;AACH,YAAME,gBAAgB,GAAGd,aAAa,CAACe,MAAd,CACpBC,CAAD,IAAO,CAACJ,gBAAgB,CAACK,QAAjB,CAA0BD,CAA1B,CADa,CAAzB;AAGAlB,MAAAA,QAAQ,CAACH,KAAK,CAACuB,WAAN,CAAkBJ,gBAAlB,EAAoC,CAApC,CAAD,CAAR;AACAb,MAAAA,gBAAgB,CAACa,gBAAD,CAAhB;AACAV,MAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACH;AACJ,GAXD;;AAaA,SAAO;AAAEP,IAAAA,KAAF;AAASG,IAAAA,aAAT;AAAwBG,IAAAA,aAAxB;AAAuCE,IAAAA,WAAvC;AAAoDM,IAAAA;AAApD,GAAP;AACH;;GA7BQf,Y;;AA8BT,eAAeA,YAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport utils from \"./utils\";\n\nfunction useGameState() {\n    const [stars, setStars] = useState(utils.random(1, 9));\n    const [availableNums, setAvailableNums] = useState(utils.range(1, 9));\n    const [candidateNums, setCandidateNums] = useState([] as number[]);\n    const [secondsLeft, setSecondsLeft] = useState(10);\n\n    useEffect(() => {\n        if (secondsLeft > 0 && availableNums.length > 0) {\n            const timerId = setTimeout(() => {\n                setSecondsLeft(secondsLeft - 1);\n            }, 1000);\n            return () => clearTimeout(timerId);\n        }\n    });\n\n    const setGameState = (newCandidateNums: number[]) => {\n        if (utils.sum(newCandidateNums) !== stars) {\n            setCandidateNums(newCandidateNums);\n        } else {\n            const newAvailableNums = availableNums.filter(\n                (n) => !newCandidateNums.includes(n)\n            );\n            setStars(utils.randomSumIn(newAvailableNums, 9));\n            setAvailableNums(newAvailableNums);\n            setCandidateNums([]);\n        }\n    };\n\n    return { stars, availableNums, candidateNums, secondsLeft, setGameState };\n}\nexport default useGameState;\n"]},"metadata":{},"sourceType":"module"}